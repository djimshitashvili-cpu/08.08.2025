<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Multilingual Product – Auto Language (Europe)</title>
  <meta name="description" content="Auto-detect language by URL / localStorage / browser / country hint. Includes many European languages." />
  <style>
    :root{
      --bg:#0b1020; --card:#0f1733; --text:#eef3ff; --muted:#9aa3d6; --accent:#7aa2ff; --line:#263166;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial; background:var(--bg); color:var(--text); -webkit-font-smoothing:antialiased;}
    .wrap{max-width:1000px;margin:28px auto;padding:18px;}
    .card{background:var(--card);padding:20px;border-radius:14px;box-shadow:0 12px 40px rgba(0,0,0,.45);}
    header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:16px}
    h1{margin:0;font-size:clamp(20px,3.6vw,32px)}
    p.lead{margin:6px 0 0;color:var(--muted)}
    .controls{display:flex;gap:10px;align-items:center}
    select,button{background:#0b1530;color:var(--text);border:1px solid var(--line);padding:8px 12px;border-radius:10px;font-weight:600}
    main{display:grid;grid-template-columns:320px 1fr;gap:20px;margin-top:14px}
    @media(max-width:820px){main{grid-template-columns:1fr}}
    .media img{width:100%;border-radius:12px;display:block}
    .meta{display:flex;flex-direction:column;gap:8px}
    .pill{display:inline-block;padding:6px 10px;border-radius:999px;background:#0d1740;border:1px solid #222f63;color:var(--muted);font-size:13px}
    table{width:100%;border-collapse:collapse;margin-top:8px}
    th,td{padding:10px 8px;border-bottom:1px solid rgba(255,255,255,.04);text-align:left}
    footer{margin-top:18px;color:var(--muted);font-size:13px;text-align:center}
    a{color:var(--accent)}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <header>
        <div>
          <h1 data-i18n="title">სახელი</h1>
          <p class="lead" data-i18n="tagline">This page auto-selects your language. You can override it below.</p>
        </div>
        <div class="controls">
          <label class="pill" for="langSelect"><span data-i18n="language">Language</span>&nbsp;</label>
          <select id="langSelect" aria-label="Language selector"></select>
          <button id="resetBtn" title="Reset to auto" aria-label="Reset language">Auto</button>
        </div>
      </header>

      <main>
        <div class="media">
          <img src=gvino.jpg alt="Product image">
        </div>

        <section class="meta">
          <div>
            <div class="pill" data-i18n="volume">750 ml</div>
            <h2 style="margin:12px 0 6px" data-i18n="product_name">სახელი</h2>
            <p data-i18n="short_desc">Wine product — ingredients and nutritional information per 100 ml.</p>
          </div>

          <div style="background:#08102a;padding:12px;border-radius:10px;border:1px solid var(--line)">
            <h3 style="margin:0 0 8px" data-i18n="ingredients_h">Ingredients</h3>
            <p data-i18n="ingredients">Grapes, acidity regulators (tartaric acid), preservatives (sulphur dioxide).</p>
            <p style="color:var(--muted);margin-top:8px" data-i18n="protective">Bottled in a protective atmosphere.</p>
          </div>

          <div style="background:#08102a;padding:12px;border-radius:10px;border:1px solid var(--line);margin-top:10px">
            <h3 style="margin:0 0 8px" data-i18n="nutri_h">Nutritional information (per 100 ml)</h3>
            <table aria-describedby="nutri">
              <tbody>
                <tr><th data-i18n="energy">Energy</th><td>317 kJ / 79 kcal</td></tr>
                <tr><th data-i18n="fat">Fat</th><td>0 g</td></tr>
                <tr><th data-i18n="sat">— of which saturated</th><td>0 g</td></tr>
                <tr><th data-i18n="carb">Carbohydrates</th><td>4 g</td></tr>
                <tr><th data-i18n="sugars">— of which sugars</th><td>4 g</td></tr>
                <tr><th data-i18n="protein">Proteins</th><td>0 g</td></tr>
                <tr><th data-i18n="salt">Salt</th><td>0 g</td></tr>
              </tbody>
            </table>
            <p style="color:var(--muted);margin-top:8px" data-i18n="enjoy">Enjoy responsibly!</p>
          </div>
        </section>
      </main>

      <footer>
        <small data-i18n="copyright">© 2025 «ViniCode». All rights reserved</small>
      </footer>
    </div>
  </div>

  <script>
    /***** MESSAGES: UI strings translated for many European languages (and GE/RU/GB) *****/
    const MESSAGES = {
      en: {
        title:"სახელი",
        product_name:"სახელი",
        tagline:"This page auto-selects your language. You can override it below.",
        language:"Language", volume:"750 ml", short_desc:"Wine product — ingredients and nutritional information per 100 ml.",
        ingredients_h:"Ingredients", ingredients:"Grapes, acidity regulators (tartaric acid), preservatives (sulphur dioxide).", protective:"Bottled in a protective atmosphere.",
        nutri_h:"Nutritional information (per 100 ml)", energy:"Energy", fat:"Fat", sat:"— of which saturated", carb:"Carbohydrates", sugars:"— of which sugars", protein:"Proteins", salt:"Salt", enjoy:"Enjoy responsibly!",
        copyright:"© 2025 «ViniCode». All rights reserved"
      },
      de: {
        title:"სახელი",
        product_name:"სახელი",
        tagline:"Diese Seite wählt automatisch Ihre Sprache. Sie können sie unten überschreiben.",
        language:"Sprache", volume:"750 ml", short_desc:"Weinprodukt – Zutaten und Nährwertangaben pro 100 ml.",
        ingredients_h:"Zutaten", ingredients:"Trauben, Säureregulatoren (Weinsäure), Konservierungsmittel (Schwefeldioxid).", protective:"In Schutzatmosphäre abgefüllt.",
        nutri_h:"Nährwertangaben (pro 100 ml)", energy:"Energie", fat:"Fett", sat:"— davon gesättigt", carb:"Kohlenhydrate", sugars:"— davon Zucker", protein:"Eiweiß", salt:"Salz", enjoy:"Genießen Sie verantwortungsvoll!",
        copyright:"© 2025 «ViniCode». All rights reserved"
      },
      pl: {
        title:"სახელი",
        tagline:"Ta strona automatycznie wybiera język. Możesz go zmienić poniżej.",
        language:"Język", volume:"750 ml", short_desc:"Produkt winiarski — składniki i wartość odżywcza na 100 ml.",
        ingredients_h:"Składniki", ingredients:"Winogrona, regulatory kwasowości (kwas winowy), konserwanty (dwutlenek siarki).", protective:"Butelkowane w atmosferze ochronnej.",
        nutri_h:"Wartość odżywcza (na 100 ml)", energy:"Energia", fat:"Tłuszcz", sat:"— w tym nasycone", carb:"Węglowodany", sugars:"— w tym cukry", protein:"Białko", salt:"Sól", enjoy:"Pij odpowiedzialnie!",
        copyright:"© 2025 «ViniCode». All rights reserved"
      },
      fr: {
        title:"სახელი",
        tagline:"Cette page sélectionne automatiquement votre langue. Vous pouvez la remplacer ci-dessous.",
        language:"Langue", volume:"750 ml", short_desc:"Produit vinicole — ingrédients et informations nutritionnelles pour 100 ml.",
        ingredients_h:"Ingrédients", ingredients:"Raisins, régulateurs d'acidité (acide tartrique), conservateurs (dioxyde de soufre).", protective:"Mise en bouteille sous atmosphère protectrice.",
        nutri_h:"Informations nutritionnelles (pour 100 ml)", energy:"Énergie", fat:"Matières grasses", sat:"— dont saturées", carb:"Glucides", sugars:"— dont sucres", protein:"Protéines", salt:"Sel", enjoy:"Savourez avec modération!",
        copyright:"© 2025 «ViniCode». All rights reserved"
      },
      es: {
        title:"სახელი",
        tagline:"Esta página selecciona automáticamente su idioma. Puede anularlo abajo.",
        language:"Idioma", volume:"750 ml", short_desc:"Producto de vino — ingredientes y información nutricional por 100 ml.",
        ingredients_h:"Ingredientes", ingredients:"Uvas, reguladores de acidez (ácido tartárico), conservantes (dióxido de azufre).", protective:"Embotellado en atmósfera protectora.",
        nutri_h:"Información nutricional (por 100 ml)", energy:"Energía", fat:"Grasas", sat:"— de las cuales saturadas", carb:"Hidratos de carbono", sugars:"— de los cuales azúcares", protein:"Proteínas", salt:"Sal", enjoy:"¡Disfrute con responsabilidad!",
        copyright:"© 2025 «ViniCode». All rights reserved"
      },
      it: {
        title:"სახელი",
        tagline:"Questa pagina seleziona automaticamente la lingua. Puoi cambiarla qui sotto.",
        language:"Lingua", volume:"750 ml", short_desc:"Prodotto vinicolo — ingredienti e valori nutrizionali per 100 ml.",
        ingredients_h:"Ingredienti", ingredients:"Uve, regolatori di acidità (acido tartarico), conservanti (anidride solforosa).", protective:"Imbottigliato in atmosfera protettiva.",
        nutri_h:"Informazioni nutrizionali (per 100 ml)", energy:"Energia", fat:"Grassi", sat:"— di cui saturi", carb:"Carboidrati", sugars:"— di cui zuccheri", protein:"Proteine", salt:"Sale", enjoy:"Consumare responsabilmente!",
        copyright:"© 2025 «ViniCode». All rights reserved"
      },
      pt: {
        title:"სახელი",
        tagline:"Esta página seleciona automaticamente o seu idioma. Pode alterar abaixo.",
        language:"Idioma", volume:"750 ml", short_desc:"Produto vínico — ingredientes e informação nutricional por 100 ml.",
        ingredients_h:"Ingredientes", ingredients:"Uvas, reguladores de acidez (ácido tartárico), conservantes (dióxido de enxofre).", protective:"Engarrafado em atmosfera protegida.",
        nutri_h:"Informação nutricional (por 100 ml)", energy:"Energia", fat:"Gordura", sat:"— das quais saturadas", carb:"Hidratos de carbono", sugars:"— dos quais açúcares", protein:"Proteínas", salt:"Sal", enjoy:"Consuma com responsabilidade!",
        copyright:"© 2025 «ViniCode». All rights reserved"
      },
      nl: {
        title:"სახელი",
        tagline:"Deze pagina selecteert automatisch uw taal. U kunt deze hieronder overschrijven.",
        language:"Taal", volume:"750 ml", short_desc:"Wijnproduct — ingrediënten en voedingswaarden per 100 ml.",
        ingredients_h:"Ingrediënten", ingredients:"Druiven, zuurgraadregelaars (tartaartzuren), conserveermiddelen (zwaveldioxide).", protective:"Gebotteld onder beschermende atmosfeer.",
        nutri_h:"Voedingswaarden (per 100 ml)", energy:"Energie", fat:"Vetten", sat:"— waarvan verzadigd", carb:"Koolhydraten", sugars:"— waarvan suikers", protein:"Eiwitten", salt:"Zout", enjoy:"Geniet met verantwoordelijkheid!",
        copyright:"© 2025 «ViniCode». All rights reserved"
      },
      bg: {
        title:"სახელი",
        tagline:"Тази страница автоматично избира вашия език. Можете да го промените по-долу.",
        language:"Език", volume:"750 ml", short_desc:"Винен продукт — съставки и хранителна стойност на 100 ml.",
        ingredients_h:"Съставки", ingredients:"Грозде, регулатори на киселинността (винена киселина), консерванти (серен диоксид).", protective:"Бутилирано в защитна атмосфера.",
        nutri_h:"Хранителна информация (на 100 ml)", energy:"Енергия", fat:"Мазнини", sat:"— от които наситени", carb:"Въглехидрати", sugars:"— от които захари", protein:"Протеини", salt:"Сол", enjoy:"Консумирайте отговорно!",
        copyright:"© 2025 «ViniCode». All rights reserved"
      },
      cs: {
        title:"სახელი",
        tagline:"Tato stránka automaticky vybere váš jazyk. Můžete jej změnit níže.",
        language:"Jazyk", volume:"750 ml", short_desc:"Vinný produkt — složení a nutriční hodnoty na 100 ml.",
        ingredients_h:"Složení", ingredients:"Hrozny, regulátory kyselosti (kyselina vinná), konzervanty (oxid siřičitý).", protective:"Lahvováno v ochranné atmosféře.",
        nutri_h:"Nutriční informace (na 100 ml)", energy:"Energie", fat:"Tuky", sat:"— z toho nasycené", carb:"Sacharidy", sugars:"— z toho cukry", protein:"Bílkoviny", salt:"Sůl", enjoy:"Užívejte zodpovědně!",
        copyright:"© 2025 «ViniCode». All rights reserved"
      },
      da: { /* Danish */ title:"სახელი", tagline:"Siden vælger automatisk dit sprog. Du kan ændre det nedenfor.", language:"Sprog", volume:"750 ml", short_desc:"Vinprodukt — ingredienser og ernæringsoplysninger pr. 100 ml.", ingredients_h:"Ingredienser", ingredients:"Druer, surhedsregulatorer (vinsyre), konserveringsmidler (svovldioxid).", protective:"Tappet i beskyttende atmosfære.", nutri_h:"Næringsoplysninger (pr. 100 ml)", energy:"Energi", fat:"Fedt", sat:"— heraf mættet", carb:"Kulhydrater", sugars:"— heraf sukkerarter", protein:"Proteiner", salt:"Salt", enjoy:"Nyd ansvarligt!", copyright:"©© 2025 «ViniCode». All rights reserved" },
      sv: { /* Swedish */ title:"სახელი", tagline:"Den här sidan väljer automatiskt ditt språk. Du kan ändra det nedan.", language:"Språk", volume:"750 ml", short_desc:"Vinprodukt — ingredienser och näringsvärde per 100 ml.", ingredients_h:"Ingredienser", ingredients:"Druvor, surhetsreglerande medel (vinsyra), konserveringsmedel (svaveldioxid).", protective:"Flaskas i skyddande atmosfär.", nutri_h:"Näringsinnehåll (per 100 ml)", energy:"Energi", fat:"Fett", sat:"— varav mättat", carb:"Kolhydrater", sugars:"— varav sockerarter", protein:"Protein", salt:"Salt", enjoy:"Njut ansvarsfullt!", copyright:"© 2025 «ViniCode». All rights reserved" },
      fi: { /* Finnish */ title:"სახელი", tagline:"Tämä sivu valitsee automaattisesti kielesi. Voit muuttaa sitä alla.", language:"Kieli", volume:"750 ml", short_desc:"Viinituote — ainesosat ja ravintoarvot per 100 ml.", ingredients_h:"Ainesosat", ingredients:"Rypäleet, happamuudensäätimet (voihappo), säilöntäaineet (ristioksidi).", protective:"Pullotettu suojakaasuun.", nutri_h:"Ravintoarvot (per 100 ml)", energy:"Energia", fat:"Rasva", sat:"— josta tyydyttyneitä", carb:"Hiilihydraatit", sugars:"— josta sokereita", protein:"Proteiinit", salt:"Suola", enjoy:"Nauti vastuullisesti!", copyright:"© 2025 «ViniCode». All rights reserved" },
      et: { /* Estonian */ title:"სახელი", tagline:"See leht valib automaatselt teie keele. Saate selle all üle kirjutada.", language:"Keel", volume:"750 ml", short_desc:"Veinitoodang — koostisosad ja toiteväärtus 100 ml kohta.", ingredients_h:"Koostisosad", ingredients:"Viinamarjad, happesuse regulaatorid (tartarhape), säilitusained (väävlioksiid).", protective:"Pudeldatud kaitseõhustikus.", nutri_h:"Toiteväärtus (100 ml kohta)", energy:"Energia", fat:"Rasv", sat:"— millest küllastunud", carb:"Süsivesikud", sugars:"— millest suhkrud", protein:"Valgud", salt:"Sool", enjoy:"Naudige mõistlikult!", copyright:"© 2025 «ViniCode». All rights reserved" },
      lv: { title:"სახელი", tagline:"Šī lapa automātiski izvēlas jūsu valodu. Varat to mainīt zemāk.", language:"Valoda", volume:"750 ml", short_desc:"Vīna produkts — sastāvdaļas un uzturvērtības uz 100 ml.", ingredients_h:"Sastāvdaļas", ingredients:"Vīnogas, skābuma regulatori (vīnskābe), konservanti (sērskābā dioksīds).", protective:"Iepildīts aizsargatmosfērā.", nutri_h:"Uzturvērtības (uz 100 ml)", energy:"Enerģija", fat:"Tauki", sat:"— no kuriem piesātināti", carb:"Ogļhidrāti", sugars:"— no kuriem cukuri", protein:"Olbaltumvielas", salt:"Sāls", enjoy:"Baudiet atbildīgi!", copyright:"© 2025 «ViniCode». All rights reserved" },
      lt: { title:"სახელი", tagline:"Šis puslapis automatiškai pasirenka jūsų kalbą. Galite pakeisti žemiau.", language:"Kalba", volume:"750 ml", short_desc:"Vyno produktas — ingredientai ir maistinė vertė 100 ml.", ingredients_h:"Ingredientai", ingredients:"Vynuogės, rūgštingumo reguliatoriai (vyno rūgštis), konservantai (sąryčio dioksidas).", protective:"Buteliuota apsauginėje atmosferoje.", nutri_h:"Maistinė vertė (100 ml)", energy:"Energetinė vertė", fat:"Riebalai", sat:"— iš jų sočiųjų", carb:"Angliavandeniai", sugars:"— iš jų cukrų", protein:"Baltymai", salt:"Druska", enjoy:"Vartokite atsakingai!", copyright:"© 2025 «ViniCode». All rights reserved" },
      hu: { title:"სახელი", tagline:"Ez az oldal automatikusan kiválasztja a nyelvét. Alul felülírhatja.", language:"Nyelv", volume:"750 ml", short_desc:"Bor termék — összetevők és tápérték 100 ml-re.", ingredients_h:"Összetevők", ingredients:"Szőlő, savszabályozók (bor-ecetsav), tartósítószerek (kén-dioxid).", protective:"Védőgázban palackozva.", nutri_h:"Tápérték (100 ml-re)", energy:"Energia", fat:"Zsír", sat:"— amelyből telített", carb:"Szénhidrátok", sugars:"— amelyből cukrok", protein:"Fehérjék", salt:"Só", enjoy:"Fogyassza felelősséggel!", copyright:"© 2025 «ViniCode». All rights reserved" },
      ro: { title:"სახელი", tagline:"Această pagină selectează automat limba. Puteți suprascrie mai jos.", language:"Limbă", volume:"750 ml", short_desc:"Produs vinicol — ingrediente și informații nutriționale pentru 100 ml.", ingredients_h:"Ingrediente", ingredients:"Struguri, regulatori de aciditate (acid tartric), conservanți (dioxid de sulf).", protective:"Îmbuteliat în atmosferă protejată.", nutri_h:"Informații nutriționale (la 100 ml)", energy:"Energie", fat:"Grăsimi", sat:"— dintre care saturate", carb:"Carbohidrați", sugars:"— dintre care zaharuri", protein:"Proteine", salt:"Sare", enjoy:"Consumați responsabil!", copyright:"© 2025 «ViniCode». All rights reserved" },
      sk: { title:"სახელი", tagline:"Táto stránka automaticky vyberie váš jazyk. Môžete ho prepísať nižšie.", language:"Jazyk", volume:"750 ml", short_desc:"Vínny produkt — zloženie a nutričné hodnoty na 100 ml.", ingredients_h:"Zloženie", ingredients:"Hrozno, regulátory kyslosti (kyselina vínna), konzervanty (oxid siričitý).", protective:"Fľašované v ochrannom plyne.", nutri_h:"Nutričné informácie (na 100 ml)", energy:"Energia", fat:"Tuky", sat:"— z čoho nasýtené", carb:"Sacharidy", sugars:"— z čoho cukry", protein:"Bielkoviny", salt:"Soľ", enjoy:"Pite zodpovedne!", copyright:"© 2025 «ViniCode». All rights reserved" },
      sl: { title:"სახელი", tagline:"Ta stran samodejno izbere vaš jezik. Spodaj ga lahko preglasite.", language:"Jezik", volume:"750 ml", short_desc:"Vinski izdelek — sestavine in hranilne vrednosti na 100 ml.", ingredients_h:"Sestavine", ingredients:"Grozdje, regulatorji kislosti (vinska kislina), konzervansi (žveplov dioksid).", protective:"V steklenici v zaščitni atmosferi.", nutri_h:"Hranilne informacije (na 100 ml)", energy:"Energija", fat:"Maščobe", sat:"— od tega nasičene", carb:"Ogljikovi hidrati", sugars:"— od tega sladkorji", protein:"Beljakovine", salt:"Sol", enjoy:"Uživajte odgovorno!", copyright:"© 2025 «ViniCode». All rights reserved" },
      hr: { title:"სახელი", tagline:"Ova stran automatski odabire vaš jezik. Možete ga promijeniti dolje.", language:"Jezik", volume:"750 ml", short_desc:"Vinski proizvod — sastojci i nutritivne vrijednosti na 100 ml.", ingredients_h:"Sastojci", ingredients:"Grapes, regulators of acidity (tartaric acid), preservatives (sulphur dioxide).", protective:"Bottled in a protective atmosphere.", nutri_h:"Nutritivne informacije (na 100 ml)", energy:"Energija", fat:"Masti", sat:"— od kojih zasićene", carb:"Ugljikohidrati", sugars:"— od kojih šećeri", protein:"Proteini", salt:"Sol", enjoy:"Uživajte odgovorno!", copyright:"© 2025 «ViniCode». All rights reserved" },
      el: { title:"სახელი", tagline:"Αυτή η σελίδα επιλέγει αυτόματα τη γλώσσα σας. Μπορείτε να την αλλάξετε παρακάτω.", language:"Γλώσσα", volume:"750 ml", short_desc:"Προϊόν κρασιού — συστατικά και διατροφικές πληροφορίες ανά 100 ml.", ingredients_h:"Συστατικά", ingredients:"Σταφύλια, ρυθμιστές οξύτητας (τρυγική οξύ), συντηρητικά (διοξείδιο του θείου).", protective:"Εμφιαλωμένο σε προστατευτική ατμόσφαιρα.", nutri_h:"Διατροφικές πληροφορίες (ανά 100 ml)", energy:"Ενέργεια", fat:"Λιπαρά", sat:"— εκ των οποίων κορεσμένα", carb:"Υδατάνθρακες", sugars:"— εκ των οποίων σάκχαρα", protein:"Πρωτεΐνες", salt:"Αλάτι", enjoy:"Απολαύστε υπεύθυνα!", copyright:"© © 2025 «ViniCode». All rights reserved" },
      mt: { title:"სახელი", tagline:"Din il-paġna tagħżel automaticamente l-lingwa tiegħek. Tista' tbiddelha hawn taħt.", language:"Lingwa", volume:"750 ml", short_desc:"Prodott tal-inbid — ingredjenti u informazzjoni nutrittiva għal 100 ml.", ingredients_h:"Ingredjenti", ingredients:"Grapes, acidity regulators (tartaric acid), preservatives (sulphur dioxide).", protective:"Imbottiljat f'atmosfera protettiva.", nutri_h:"Informazzjoni nutrittiva (per 100 ml)", energy:"Enerġija", fat:"Xaħam", sat:"— minn dawk saturati", carb:"Karboidrati", sugars:"— minn dawk zuccheri", protein:"Proteini", salt:"Melħ", enjoy:"Igawdu b'mod responsabbli!", copyright:"© 2025 «ViniCode». All rights reserved" },
      ga: { title:"სახელი", tagline:"Roghnaíonn an leathanach seo do theanga go huathoibríoch. Is féidir leat é a athscríobh thíos.", language:"Teanga", volume:"750 ml", short_desc:"Táirge fíona — comhábhair agus faisnéis chothaitheach in aghaidh 100 ml.", ingredients_h:"Comhábhair", ingredients:"Grapes, acidity regulators (tartaric acid), preservatives (sulphur dioxide).", protective:"Buidéil i atmaisféar chosanta.", nutri_h:"Faisnéis cothaithe (in aghaidh 100 ml)", energy:"Fuinneamh", fat:"Saill", sat:"— as a bhfuil sáithithe", carb:"Carbaihiodráit", sugars:"— as a bhfuil siúcraí", protein:"Prótéin", salt:"Salann", enjoy:"Bain taitneamh as go freagrach!", copyright:"© 2025 «ViniCode». All rights reserved" },
      ru: {
        title:"სახელი",
        tagline:"Страница автоматически выбирает язык. Вы можете изменить его ниже.",
        language:"Язык", volume:"750 ml", short_desc:"Винный продукт — ингредиенты и пищевая ценность на 100 мл.",
        ingredients_h:"Ингредиенты", ingredients:"Виноград, регуляторы кислотности (винная кислота), консерванты (диоксид серы).", protective:"Розлив в защитной атмосфере.", nutri_h:"Пищевая информация (на 100 мл)", energy:"Энергия", fat:"Жиры", sat:"— из них насыщенные", carb:"Углеводы", sugars:"— из них сахара", protein:"Белки", salt:"Соль", enjoy:"Потребляйте ответственно!", copyright:"© 2025 Telavi Wine Cellar"
      },
      ka: {
        title:"სახელი",
        tagline:"ეს გვერდი ავტომატურად ირჩევს ენას. ასევე შეგიძლია დააყენო უცებ ქვემოთ.",
        language:"ენა", volume:"750 მლ", short_desc:"ღვინის პროდუქტი — შემადგენლობა და ნუტრიციული მონაცემები 100 მლ-ზე.",
        ingredients_h:"შემადგენლობა", ingredients:"ყურძენი, მჟავიანობის რეგულატორები (ღვინის მჟავა), კონსერვანტები (გოგირდის დიოქსიდი).", protective:"დაბოთლებულია დამცავ ატმოსფეროში.", nutri_h:"რაოდენობრივი ინფორმაცია (100 მლ-ზე)", energy:"ენერგია", fat:"ცხიმი", sat:"— მათ შორის გაჯერებული", carb:"კარბოჰიდრატები", sugars:"— მათ შორის შაქრები", protein:"პოტრეოტი", salt:"მარილი", enjoy:"მიირთვით პასუხისმგებლობით!", copyright:"© 2025 «ViniCode». All rights reserved"
      }
    };

    /***** countryToLang: Europe-focused ISO alpha-2 -> language code *****/
    const countryToLang = {
      AL:"sq", AD:"fr", AT:"de", BY:"ru", BE:"nl", BA:"bs", BG:"bg", HR:"hr", CY:"el",
      CZ:"cs", DK:"da", EE:"et", FI:"fi", FR:"fr", DE:"de", GR:"el", HU:"hu", IS:"is",
      IE:"ga", IT:"it", LV:"lv", LI:"de", LT:"lt", LU:"de", MT:"mt", MD:"ro", MC:"fr",
      ME:"sr", NL:"nl", MK:"mk", NO:"no", PL:"pl", PT:"pt", RO:"ro", RU:"ru", SM:"it",
      RS:"sr", SK:"sk", SI:"sl", ES:"es", SE:"sv", CH:"de", TR:"tr", GB:"en", UA:"uk",
      GE:"ka,ru" // Georgia: default ka, fallback ru if needed
    };

    /***** i18n / detection logic *****/
    const qs = new URLSearchParams(location.search);
    const storageKey = "preferred_lang_site";
    const supported = Object.keys(MESSAGES);

    const normalize = (s)=> (s||"").toLowerCase().replace("_","-");
    const baseOf = (tag)=> normalize(tag).split("-")[0];

    function pickSupported(list){
      for(const t of list){
        const base = baseOf(t);
        if(supported.includes(t)) return t;
        if(supported.includes(base)) return base;
      }
      return "en";
    }

    function detectLanguage({country} = {}){
      // 1) URL ?lang=xx
      const urlLang = normalize(qs.get("lang"));
      if(urlLang) return pickSupported([urlLang]);

      // 2) saved
      const saved = normalize(localStorage.getItem(storageKey));
      if(saved) return pickSupported([saved]);

      // 3) navigator languages
      const nav = (navigator.languages && navigator.languages.length) ? navigator.languages.map(normalize) : [normalize(navigator.language || navigator.userLanguage || "en")];
      const navPick = pickSupported(nav);
      if(navPick) return navPick;

      // 4) country hint
      if(country){
        const mapping = countryToLang[country.toUpperCase()];
        if(mapping){
          // mapping may be like "ka,ru" -> prefer first available supported
          const candidates = mapping.split(",").map(s=>s.trim());
          const pick = pickSupported(candidates);
          if(pick) return pick;
        }
      }

      // 5) fallback
      return "en";
    }

    function applyI18n(lang){
      const dict = MESSAGES[lang] || MESSAGES.en;
      document.documentElement.lang = lang;
      document.querySelectorAll("[data-i18n]").forEach(el=>{
        const key = el.getAttribute("data-i18n");
        if(key && dict[key] != null) el.textContent = dict[key];
      });
    }

    /***** build language selector UI *****/
    function buildSelector(current){
      const sel = document.getElementById("langSelect");
      sel.innerHTML = "";
      // human labels (add more as desired)
      const labels = {
        en:"English", de:"Deutsch", pl:"Polski", ka:"ქართული", ru:"Русский", fr:"Français", es:"Español",
        it:"Italiano", pt:"Português", nl:"Nederlands", bg:"Български", cs:"Čeština", da:"Dansk", sv:"Svenska",
        fi:"Suomi", et:"Eesti", lv:"Latviešu", lt:"Lietuvių", hu:"Magyar", ro:"Română", sk:"Slovenčina", sl:"Slovenščina",
        hr:"Hrvatski", el:"Ελληνικά", mt:"Malti", ga:"Gaeilge"
      };
      // ensure options include supported languages in messages
      for(const code of supported){
        const opt = document.createElement("option");
        opt.value = code;
        opt.textContent = labels[code] || code;
        if(code === current) opt.selected = true;
        sel.appendChild(opt);
      }
      sel.addEventListener("change", ()=>{
        const v = sel.value;
        localStorage.setItem(storageKey, v);
        applyI18n(v);
      });
      document.getElementById("resetBtn").addEventListener("click", ()=>{
        localStorage.removeItem(storageKey);
        const auto = detectLanguage(window.__COUNTRY_HINT__ ? {country: window.__COUNTRY_HINT__} : {});
        applyI18n(auto);
        buildSelector(auto);
      });
    }

    /***** initialization ******/
    (function init(){
      // If your server can inject a country hint (ISO alpha-2), set window.__COUNTRY_HINT__ = "DE" for example.
      // Example for testing in browser console: window.__COUNTRY_HINT__ = "PL"
      const lang = detectLanguage(window.__COUNTRY_HINT__ ? {country: window.__COUNTRY_HINT__} : {});
      applyI18n(lang);
      buildSelector(lang);
    })();

    /***** optional: expose helper to programmatically set country (for testing) *****/
    window.setCountryHint = function(iso2){
      window.__COUNTRY_HINT__ = iso2;
      const lang = detectLanguage({country: iso2});
      localStorage.removeItem(storageKey); // ensure auto-detect
      applyI18n(lang);
      buildSelector(lang);
    };
  </script>
</body>
</html>
